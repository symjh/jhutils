<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>JSON格式化</title>
</head>


<body>
    <div style="width:100%;height: 100%">

        <textarea id="before" class="json-area" placeholder="需格式化JSON"></textarea>

        <div style="width:8%;height: 80%;float: left;">
            <div style="width: 100%;height: 50%;position: relative">
                <a class="a-button" href="javascript:void(0);" onclick="format()">格式化-></a>
            </div>
            <div style="width: 100%;height: 50%;position: relative">
                <a class="a-button" href="javascript:void(0);;" onclick="unformat()"><-压缩</a>
            </div>
        </div>

        <textarea id="after" class="json-area" placeholder="结果"></textarea>
    </div>


<script>
    function format(){
        var val = document.getElementById("before").value;
        try {
            var data = JSON.parse(val);
            document.getElementById("after").value = JSON.stringify(data, null, "\t");
        }catch (e) {
            alert("转换失败，原因："+e);
        }

    }
    function unformat(){
        var val = document.getElementById("after").value;
        try {
            var data = JSON.parse(val);
            document.getElementById("before").value = JSON.stringify(data);
        }catch (e) {
            alert("转换失败，原因："+e);
        }

    }
</script>

<style>
    html, body { height: 98%; }
    .json-area {
        min-width: 45%;
        max-width: 45%;
        min-height: 80%;
        max-height: 80%;
        float: left;
    }
    .a-button{
        position: absolute;
        bottom: 50%;
        left: 15%;
    }

</style>

</body>
</html>